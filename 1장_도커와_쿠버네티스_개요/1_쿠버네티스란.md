## 쿠버네티스
> 컨테이너화된 애플리케이션을 효율적으로 배포/운영하기 위해 설계된 오픈소스 플랫폼
* 여러 컨테이너를 관리하기 위한 기술(확장성과 가용성을 고려)

### 컨테이너
> 애플리케이션 실행에 필요한 라이브러리나 운영체제, 패키지 등을 모두 담아서 불변의 실행환경을    
> 담은 이미지. 
* 개발환경 - 테스트환경 - 운영 환경의 차이를 없앨 수 있고 배포의 안정성을 높일 수 있다.

### 쿠버네티스의 기능과 특징

1. 배포 계획에 맞춰 신속한 배포
    - 컨테이너 개수, CPU 사용률, 메모리 사용량 설정 가능
    - 저장 공간, 네트워크 접근 제어, 로드밸런싱 기능 설정 가능
2. 가동 중인 애플리케이션 스케일 업/다운 가능
    - 요청이 많을 때는 컨테이너 수를 늘려서 처리 능력을 높임
    - 요청이 적을 때는 컨테이너 수를 줄여서 자원 점유율이나 요금을 줄임
3. 새로운 버전의 애플리케이션을 무정지로 업그레이드 할 수 있다.
4. 하드웨어 가동률을 높여 자원 낭비를 줄인다.
5. 다양한 환경에서 사용 가능
    - 퍼블릭 클라우드, 프라이빗 클라우드, 멀티 클라우드, 하이브리드 클라우드, 온프레미스
6. 변화를 전제로 설계된 높은 유연성/확장성
    - 마이크로 서비스화된 애플리케이션에 최적화된 환경
    - 느슨한 결합에 의한 유연성, 교체 용이성
    - 서버(노드)의 정지, 추가, 제거가 용이
    - 저장소나 로드밸런서의 동적 프로비저닝
    - 퍼블릭 클라우드 API와 연동한 쿠버네티스 조작
7. 고가용성과 성능 관리
    - 서버 정지 시 애플리케이션 재배포 자동화
    - 애플리케이션의 이상 종료 시 자동 재기동


### 쿠버네티스가 해결하는 과제
> 지속적 통합(CI)과 지속적 배포(CD)의 중요성을 달성   

1. 어플리케이션의 빈번한 출시
   - 무정지에 가까운 교체, 성능저하와 프로그램 충돌로 인한 서비스 정지에 대한 컨테이너 교체 정책
2. 무정지 서비스
   - 자가 회복기능을 통한 서비스의 지속성 달성(클러스터 지정 수 많큼 컨테이너 돌도록 관리)
3. 초기 비용을 낮추고 비즈니스 상황에 맞는 유연성
   - 컨테이너 기술을 통한 애플리케이션과 실행환경을 묶어 배포하는 장점
4. 외부 서비스와의 연동
   - 외부 DB를 포함하지 않은 컨테이너와 DB의 내부 DNS 등록을 통한 연동
5. 개발 환경과 운영 환경의 분리
6. 온프레미스와 클라우드 위에 구축
7. 애플리케이션 중심의 오케스트레이션
   - YAML 파일을 기술하여 로드밸런서, 저장소, 네트워크, 런타임 등의 환경을 구성
8. 특정 기업에 종속되지 않는 표준 기술
9. 서버 가동률 증가

### 쿠버네티스 아키텍쳐
> 클러스터 관리를 담당하는 마스터와 컨테이너화된 애플리케이션을 실제로 실행하는 노드 두 종류로 구성

1. 마스터는 SPOF가 되지 않도록 다중화가 가능하다
2. 마스터는 애플리케이션을 API 클라이언트로부터 요청을 받아 제어한다.
3. 쿠버네티스(이하 K8s) 클러스터 외부에는 레지스트리가 있으며, 각 노드에서 이미지를 다운로드 할 수 있도록
네트워크상 접근 가능한 곳에 있어야 한다.
   

#### 핵심 정리

1. 쿠버네티스는 대규모의 유저 요청을 받아들이는 서비스의 백엔드에 적합한 플랫폼으로서,
지속적 통합과 지속적 배포에 적합한 구조를 가진다.
   
2. 퍼블릭 클라우드와 온프레미스에서 같은 방식으로 사용한다.

3. 컨테이너 기술을 통해 애플리케이션과 서버 인프라를 분리하여 변화에 대응할 수 있는 유연성과 확장성을 제공한다.

4. K8s 의 아키텍쳐는 마스터와 노드로 구성되며 마스터가 노드를 제어한다.
